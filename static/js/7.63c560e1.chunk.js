(this.webpackJsonpRawgAPI_React=this.webpackJsonpRawgAPI_React||[]).push([[7],{308:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(1),r=n.n(a),s=n(50),i=n(25),o=n(46),l=n.n(o),u=n(47),d=n(7),m=n(58),j=function(e){return{type:d.b,payload:{btnActive:e}}},f=function(e,t,n){return{type:d.c,payload:{fetchedData:e,nextUrl:t,btnActive:n}}},b=function(e,t){return function(){var n=Object(u.a)(l.a.mark((function n(c){var a,r,s;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c(j(t));case 3:return n.next=5,Object(m.a)(e);case 5:return a=n.sent,r=a.next,s=a.results,n.next=9,c(f(s,r,t));case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log("fetchGenre error",n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},p=n(4),h=n(12),v=n(150),O=Object(i.b)((function(e){return{listGenres:e.collectionGenres.genres,loadingGenres:e.collectionGenres.loading,listGames:e.collectionGame}}),{fetchGenres:function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var c,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(m.a)(e);case 3:c=t.sent,a=c.results,n((r=a,{type:d.f,payload:{fetchedData:r}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("fetcGenres error",t.t0);case 11:case"end":return t.stop()}var r}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},fetchGames:b})((function(e){var t=e.listGenres,n=e.fetchGenres,r=e.fetchGames,i=e.listGames,o=Object(p.g)(),l="https://api.rawg.io/api".concat(o.pathname).concat(o.search),u=o.search?o.search.slice(o.search.lastIndexOf("=")+1):"games";Object(a.useEffect)((function(){!Object.keys(i).includes(u)&&r(l,u)}),[r,u,l,i]);var d=t.map((function(e){return Object(c.jsx)(h.b,{label:e.slug,to:"games?genres=".concat(e.slug),className:"link ".concat(e.slug===u?"link--active":""),style:{textDecoration:"none"},children:e.name},e.id)}));Object(a.useEffect)((function(){n("https://api.rawg.io/api/genres")}),[n]);var m=Object(a.useState)(!1),j=Object(s.a)(m,2),f=j[0],b=j[1];return Object(c.jsxs)("nav",{className:"header-genres",children:[Object(c.jsxs)("div",{className:"header-genres__expanded",children:[Object(c.jsx)("span",{className:"header-genres__current-genre",children:u||"Genre"}),Object(c.jsx)("span",{className:"header-genres__expanded-icon",onClick:function(){b((function(e){return!e}))},children:Object(c.jsx)(v.a,{style:{fontSize:"16px",transition:"0.2s",transform:"rotate(".concat(f?"180deg":"0deg",")")}})})]}),Object(c.jsx)("div",{className:"header-genres__menu ".concat(f?"header-genres__menu--expanded":""),children:d})]})})),g=n(5),x=n(26),w=n(90),_=n(68),y=n(28),N=n(53),G=Object(i.b)(null,(function(e){return{getIdVideo:function(t){e(Object(N.b)(t))}}}))((function(e){var t=e.clip,n=e.play,r=e.getIdVideo,i=Object(a.useRef)(null),o=Object(a.useState)(),l=Object(s.a)(o,2),u=l[0],d=l[1];return Object(c.jsxs)("div",{className:"video",children:[u&&Object(c.jsx)(y.a,{className:"video__loading"}),Object(c.jsx)("video",{className:"video__frame",ref:i,src:t.clip,onLoadedData:function(){d(!0),n&&(d(!1),i.current.volume=0,i.current.play())},loop:!0}),Object(c.jsxs)("button",{className:"video__full-frame",onClick:function(){r(t.video)},children:[Object(c.jsx)(x.a,{className:"icon"}),Object(c.jsx)("span",{children:"Full video"})]})]})}));var k=function(e){var t,n=e.background_image,r=e.metacritic,i=e.name,o=e.clip,l=e.slug,u=Object(a.useState)(!1),d=Object(s.a)(u,2),m=d[0],j=d[1],f=(t=n)?t.replace("https://media.rawg.io/media/","https://media.rawg.io/media/crop/600/400/"):"https://images7.alphacoders.com/389/389072.png";return Object(c.jsxs)("div",{className:"game-item",onMouseEnter:function(e){j(!0)},onMouseLeave:function(e){j(!1)},children:[Object(c.jsx)("div",{className:"background",style:{backgroundImage:'url("'.concat(f,'")')},children:o&&Object(c.jsx)(x.a,{className:"icon icon--play"})}),m&&o&&Object(c.jsx)(G,{clip:o,play:m}),Object(c.jsxs)("div",{className:"game-item__info",children:[Object(c.jsxs)("div",{className:"game-item__info__top",children:[Object(c.jsxs)("div",{className:"game-item__platforms",children:[Object(c.jsx)(x.d,{className:"icon icon--pc",style:{marginRight:"0.6rem"}}),Object(c.jsx)(x.b,{className:"icon icon--playstation",style:{marginRight:"0.6rem"}}),Object(c.jsx)(x.e,{className:"icon icon--xbox"})]}),Object(c.jsx)("span",{className:"game-item__meta ".concat(Object(_.a)(r)),children:r||0})]}),Object(c.jsxs)("div",{className:"game-item__info__bottom",children:[Object(c.jsx)(h.b,{title:"Grand Theft Auto V",className:"heading-1 game-item__name",to:"/games/".concat(l),style:{textDecoration:"none"},children:i}),Object(c.jsx)(w.b,{className:"icon icon--like"})]})]})]})},I=r.a.memo(k);var E=function(){var e=Object(a.useState)({width:window.innerWidth}),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){c({width:window.innerWidth})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},F=Object(i.b)((function(e){return{listGames:e.collectionGame}}),{fetchGames:b})((function(e){var t,n=e.listGames,r=e.fetchGames,s=E(),i=Object(p.g)(),o=i.search?i.search.slice(i.search.lastIndexOf("=")+1):"games",l=(t=s.width)>=1200?4:t>=992?3:t>=768?2:t<768?1:void 0;return Object(a.useEffect)((function(){var e=function(){n[o]&&window.innerHeight+window.scrollY>=document.body.offsetHeight&&r(n[o].nextUrl,o)};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[r,n,o]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"games-rendered",style:{gridTemplateColumns:"repeat(".concat(l,", minmax(30rem, 50rem)")},children:n[o]&&function(e){for(var t=0,n=[],a=0;a<l;a++)n.push([]);for(var r=0;r<e.length;r++)n[t].push(e[r]),++t===l&&(t=0);return n.map((function(e,t){return Object(c.jsx)("div",{className:"col",children:e.map((function(e){return Object(c.jsx)(I,Object(g.a)({},e),e.id)}))},"games-"+t)}))}(n[o].games)}),n[o]&&Object(c.jsx)(y.a,{loading:n[o].loading})]})})),R=n(69);t.default=Object(i.b)((function(e){return{videoId:e.actionVideo.videoId}}),null)((function(e){var t=e.videoId;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{style:{margin:"2rem 0px 5rem"},children:[Object(c.jsx)(O,{}),Object(c.jsx)(F,{})]}),t&&Object(c.jsx)(R.a,{videoId:t})]})}))},53:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var c=n(7),a=function(e){return{type:c.g,payload:e}},r=function(){return{type:c.a}}},58:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(46),a=n.n(c),r=n(47),s=n(81),i=n.n(s),o=function(){var e=Object(r.a)(a.a.mark((function e(t){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.request({method:"GET",url:t});case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},68:function(e,t,n){"use strict";function c(e){var t="metacritic-";return t+=e>=75?"green":e>=50?"yellow":e>=25?"blue":"red"}n.d(t,"a",(function(){return c}))},69:function(e,t,n){"use strict";var c=n(2),a=(n(1),n(25)),r=n(53);t.a=Object(a.b)(null,(function(e){return{closeFullVideo:function(){e(Object(r.a)())}}}))((function(e){var t=e.videoId,n=e.closeFullVideo;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"full-video",children:[Object(c.jsx)("span",{className:"full-video__close",onClick:function(){n()},children:"\xd7"}),Object(c.jsx)("div",{className:"full-video__frame",children:Object(c.jsx)("iframe",{width:"100%",height:"100%",frameBorder:"0",allowFullScreen:!0,allow:"accelerometer; autoplay; encrypted-media; picture-in-picture",title:"Youtube video player",src:"https://www.youtube.com/embed/".concat(t,"?autoplay=1")})})]})})}))}}]);
//# sourceMappingURL=7.63c560e1.chunk.js.map